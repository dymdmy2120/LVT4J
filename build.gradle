apply plugin: 'java'

sourceCompatibility = 1.5
version = '1.2'

jar {
    manifest {
        attributes 'Implementation-Title': 'LVT4J',
                   'Implementation-Version': version
    }
}

uploadArchives {
    repositories {
       flatDir {
           dirs 'repos'
       }
    }
}

sourceSets {
    main {
        java {
            srcDir 'src/main/java'
        }
    }
}

repositories {
    jcenter()
    maven  { url  "http://nexus.corp.youdao.com/nexus/content/repositories/central/" }
    maven  { url  "https://oss.sonatype.org/content/repositories/ksoap2-android-releases/" }
}


dependencies {
    compile group: 'junit', name: 'junit', version: '4.12'
    compile group: 'com.google.android', name: 'android', version: '4.1.1.4'
    compile group: 'javax.servlet', name: 'javax.servlet-api', version: '3.1.0'
    compile group: 'org.projectlombok', name: 'lombok', version: '1.16.8'
    compile group: 'org.dom4j', name: 'dom4j', version: '2.0.0'
    compile group: 'com.google.code.ksoap2-android', name: 'ksoap2-android', version: '3.6.0'
    compile group: 'com.belerweb', name: 'pinyin4j', version: '2.5.0'
    compile group: 'org.apache.poi', name: 'poi', version: '3.14'
    compile group: 'javax.mail', name: 'mail', version: '1.4.7'
    compile group: 'org.springframework', name: 'spring-web', version: '4.2.6.RELEASE'
}

[compileJava, compileTestJava]*.options*.encoding = 'UTF-8'
compileJava {
    options.bootClasspath = "$System.env.JAVA_HOME/jre/lib/rt.jar"
    options.bootClasspath += "$File.pathSeparator$System.env.JAVA_HOME/jre/lib/jce.jar"
}

jar {
    archiveName 'lvt4j.jar'
}
